<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sound Example</title>
    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.0/dist/aframe-extras.min.js"></script>
  </head>
  <body>
    <script>
      AFRAME.registerComponent("soundcontroller", {
        init: function () {
          let el = this.el;
          el.addEventListener("click", function (ev) {
            let id = ev.srcElement.id;
            console.log(`%c${id}`, "font-size:2em;");

            let speaker = document.querySelector("#speaker");

            if (id == "play") {
              speaker.components.sound.playSound();
            } else if (id == "pause") {
              speaker.components.sound.pauseSound();
            } else {
              speaker.components.sound.stopSound();
            }
          });
        },
      });
    </script>

    <a-scene>
      <a-camera>
        <a-cursor raycaster="objects:a-box"></a-cursor>
      </a-camera>

      <!-- <a-sound src="audio/calimba.mp3" autoplay="true"></a-sound> -->
      <a-sky src="texture/sky.jpg"></a-sky>
      <a-ocean width="100" depth="100" density="40"></a-ocean>
      <a-gltf-model
        src="model/island.gltf"
        gltf-model="model/island.gltf"
        scale="0.05 0.05 0.05"
        rotation="0 90 0"
        position="0 -0.5 -5"
      ></a-gltf-model>

      <a-box
        color="#F00"
        position="0 1.5 -3"
        id="speaker"
        sound="src:audio/calimba.mp3; autoplay:false;"
      ></a-box>

      <a-box
        soundcontroller
        id="play"
        color="#500"
        position="0 1 -2"
        scale="0.5 0.5 0.5"
      ></a-box>
      <a-box
        soundcontroller
        id="pause"
        color="#550"
        position="1.5 1 -2"
        scale="0.5 0.5 0.5"
      ></a-box>
      <a-box
        soundcontroller
        id="stop"
        color="#050"
        position="-1.5 1 -2"
        scale="0.5 0.5 0.5"
      ></a-box>
    </a-scene>
  </body>
</html>
